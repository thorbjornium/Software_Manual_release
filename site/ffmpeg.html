<!DOCTYPE HTML>
<html lang="en" class="nordic sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FFMpeg</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/tabs.css">
        <link rel="stylesheet" href="mdbook-admonish.css">
        <link rel="stylesheet" href="theme/sun.css">
        <link rel="stylesheet" href="theme/catppuccin.css">
        <link rel="stylesheet" href="theme/catppuccin-admonish.css">
        <link rel="stylesheet" href="theme/nordic.css">
        <link rel="stylesheet" href="./mdbook-admonish.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "nordic" : "nordic";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('nordic')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="sun">Sun</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="nordic">Nordic</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frapp√©</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>  
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/thorbjornium/Software_Manual_release" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/thorbjornium/Software-Manual/blob/main/src/ffmpeg.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
.mdbook-alerts {
  padding: 8px 16px;
  margin-bottom: 16px;
  border-left: 0.25em solid var(--mdbook-alerts-color);
}

.mdbook-alerts > *:first-child {
  margin-top: 0;
}

.mdbook-alerts > *:last-child {
  margin-bottom: 0;
}

.mdbook-alerts-title {
  display: flex;
  font-weight: 600;
  align-items: center;
  line-height: 1;
  color: var(--mdbook-alerts-color);
  text-transform: capitalize;
}

.mdbook-alerts-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  margin-right: 0.2em;
  background-color: currentColor;
  -webkit-mask: no-repeat center / 100%;
  mask: no-repeat center / 100%;
  -webkit-mask-image: var(--mdbook-alerts-icon);
  mask-image: var(--mdbook-alerts-icon);
}

.mdbook-alerts-note {
  --mdbook-alerts-color: rgb(9, 105, 218);
  /* https://icon-sets.iconify.design/material-symbols/info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11q-.425 0-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8q0 .425.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-tip {
  --mdbook-alerts-color: rgb(26, 127, 55);
  /* https://icon-sets.iconify.design/material-symbols/lightbulb-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 22q-.825 0-1.412-.587T10 20h4q0 .825-.587 1.413T12 22m-3-3q-.425 0-.712-.288T8 18q0-.425.288-.712T9 17h6q.425 0 .713.288T16 18q0 .425-.288.713T15 19zm-.75-3q-1.725-1.025-2.738-2.75T4.5 9.5q0-3.125 2.188-5.312T12 2q3.125 0 5.313 2.188T19.5 9.5q0 2.025-1.012 3.75T15.75 16zm.6-2h6.3q1.125-.8 1.738-1.975T17.5 9.5q0-2.3-1.6-3.9T12 4Q9.7 4 8.1 5.6T6.5 9.5q0 1.35.613 2.525T8.85 14M12 14"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-important {
  --mdbook-alerts-color: rgb(130, 80, 223);
  /* https://icon-sets.iconify.design/material-symbols/chat-info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 7q.425 0 .713-.288T13 6q0-.425-.288-.712T12 5q-.425 0-.712.288T11 6q0 .425.288.713T12 7m0 8q.425 0 .713-.288T13 14v-4q0-.425-.288-.712T12 9q-.425 0-.712.288T11 10v4q0 .425.288.713T12 15m-6 3l-2.3 2.3q-.475.475-1.088.213T2 19.575V4q0-.825.588-1.412T4 2h16q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18zm-.85-2H20V4H4v13.125zM4 16V4z"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-warning {
  --mdbook-alerts-color: rgb(154, 103, 0);
  /* https://icon-sets.iconify.design/material-symbols/warning-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M2.725 21q-.275 0-.5-.137t-.35-.363q-.125-.225-.137-.488t.137-.512l9.25-16q.15-.25.388-.375T12 3q.25 0 .488.125t.387.375l9.25 16q.15.25.138.513t-.138.487q-.125.225-.35.363t-.5.137zm1.725-2h15.1L12 6zM12 18q.425 0 .713-.288T13 17q0-.425-.288-.712T12 16q-.425 0-.712.288T11 17q0 .425.288.713T12 18m0-3q.425 0 .713-.288T13 14v-3q0-.425-.288-.712T12 10q-.425 0-.712.288T11 11v3q0 .425.288.713T12 15m0-2.5"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-caution {
  --mdbook-alerts-color: rgb(207, 34, 46);
  /* https://icon-sets.iconify.design/material-symbols/brightness-alert-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16q0-.425-.288-.712T12 15q-.425 0-.712.288T11 16q0 .425.288.713T12 17m0-4q.425 0 .713-.288T13 12V8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8v4q0 .425.288.713T12 13m-3.35 7H6q-.825 0-1.412-.587T4 18v-2.65L2.075 13.4q-.275-.3-.425-.662T1.5 12q0-.375.15-.737t.425-.663L4 8.65V6q0-.825.588-1.412T6 4h2.65l1.95-1.925q.3-.275.663-.425T12 1.5q.375 0 .738.15t.662.425L15.35 4H18q.825 0 1.413.588T20 6v2.65l1.925 1.95q.275.3.425.663t.15.737q0 .375-.15.738t-.425.662L20 15.35V18q0 .825-.587 1.413T18 20h-2.65l-1.95 1.925q-.3.275-.662.425T12 22.5q-.375 0-.737-.15t-.663-.425zm.85-2l2.5 2.5l2.5-2.5H18v-3.5l2.5-2.5L18 9.5V6h-3.5L12 3.5L9.5 6H6v3.5L3.5 12L6 14.5V18zm2.5-6"%2F%3E%3C%2Fsvg%3E');
}

</style>
<h1 id="ffmpeg"><a class="header" href="#ffmpeg">FFmpeg</a></h1>
<ul>
<li><a href="#example-with-an-explanation-of-switches">Example with an explanation of switches</a></li>
<li><a href="#basic-examples">Basic Examples</a></li>
<li><a href="#video-encoding-examples">Video Encoding Examples</a></li>
<li><a href="#audio-encoding-examples">Audio Encoding Examples</a></li>
<li><a href="#resizing-and-scaling-examples">Resizing and Scaling Examples</a></li>
<li><a href="#padding-examples">Padding Examples</a></li>
<li><a href="#rotation-and-flipping-examples">Rotation and Flipping Examples</a></li>
<li><a href="#time-manipulation-examples">Time Manipulation Examples</a></li>
<li><a href="#frame-rate-manipulation-examples">Frame Rate Manipulation Examples</a></li>
<li><a href="#audio-manipulation-examples">Audio Manipulation Examples</a></li>
<li><a href="#image-and-video-examples">Image and Video Examples</a></li>
<li><a href="#stitch-multiple-videos-together">Stitch multiple videos together</a></li>
<li><a href="#encode-gif-to-mp4-screentogif">Encode .gif to .mp4 (ScreenToGif)</a></li>
<li><a href="#subtitle-examples">Subtitle Examples</a></li>
<li><a href="#watermark-examples">Watermark Examples</a></li>
<li><a href="#complex-filtergraph-examples">Complex Filtergraph Examples</a></li>
<li><a href="#streaming-examples-basic">Streaming Examples (Basic)</a></li>
<li><a href="#miscellaneous-examples">Miscellaneous Examples</a></li>
</ul>
<h2 id="example-with-an-explanation-of-switches"><a class="header" href="#example-with-an-explanation-of-switches">Example with an explanation of switches</a></h2>
<pre><code class="language-powershell">
ffmpeg -y -i Input_File.mkv -strict experimental -loglevel error -stats -map 0:v? -map 0:a? -dn -map_chapters -1 -movflags +faststart -c:v copy -c:a copy -strict -2 Output_File.mp4

</code></pre>
<p>Remux 2160p .mkv to .mp4</p>
<details>
<summary>Explanation</summary>
<p><code>ffmpeg</code>:</p>
<p>This is the command to run the FFmpeg program, a widely used tool to handle multimedia data.</p>
<p><code>-y</code>:</p>
<p>Automatically overwrite output files without asking.</p>
<p><code>-i Input_File.mkv</code>:</p>
<p>Specifies the input file, in this case, "Input_File.mkv."</p>
<p><code>-strict experimental</code>:</p>
<p>Enables experimental features. This is required for some codecs that are marked as experimental.</p>
<p><code>-loglevel error</code>:</p>
<p>Sets the logging level to "error" to suppress informational and warning messages.</p>
<p><code>-stats</code>:</p>
<p>Prints encoding progress/statistics to the console.</p>
<p><code>-map 0:v?</code>:</p>
<p>Maps all video streams from the input file (0 refers to the first input file). The ? ensures it doesn't fail if there are no video streams.</p>
<p><code>-map 0:a?</code>:</p>
<p>Maps all audio streams from the input file, similar to the video mapping.</p>
<p><code>-dn</code>:</p>
<p>Disables data streams (such as subtitle streams).</p>
<p><code>-map_chapters -1</code>:</p>
<p>Excludes chapters from the output file.</p>
<p><code>-movflags +faststart</code>:</p>
<p>Moves the moov atom to the beginning of the file, which can help in streaming scenarios.</p>
<p><code>-c:v copy</code>:</p>
<p>Copies the video codec from the input to the output without re-encoding.</p>
<p><code>-c:a copy</code>:</p>
<p>Copies the audio codec from the input to the output without re-encoding.</p>
<p><code>-strict -2</code>:</p>
<p>Another way to enable experimental features. This might be redundant with -strict experimental.</p>
<p>Output_File.mp4:</p>
<p>Specifies the output file name, "Output_File.mp4."</p>
<p>Summary:</p>
<p>This FFmpeg command reads an input MKV file (Input_File.mkv), and outputs it as an MP4 file (Output_File.mp4). It copies both the video and audio streams without re-encoding, excludes data streams and chapters, sets specific logging and progress options, and ensures the output file is ready for streaming with faststart.</p>
</details>
<h2 id="basic-examples"><a class="header" href="#basic-examples">Basic Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i input.avi output.mp4
</code></pre>
<p>Convert input.avi to output.mp4 (using default codecs).</p>
<pre><code class="language-powershell">ffmpeg -i input.mov -c:v libx264 -c:a aac output.mp4
</code></pre>
<p>Convert input.mov to H.264 video and AAC audio in an MP4 container.</p>
<pre><code class="language-powershell">ffmpeg -i input.wmv -c:v libx265 -c:a aac output.mp4
</code></pre>
<p>Convert input.wmv to HEVC (H.265) video and AAC audio in an MP4 container.</p>
<pre><code class="language-powershell">ffmpeg -i input.flv -vn -acodec libmp3lame output.mp3
</code></pre>
<p>Extract audio from input.flv to an MP3 file.</p>
<pre><code class="language-powershell">ffmpeg -i input.wav -acodec aac output.aac
</code></pre>
<p>Convert a WAV audio file to an AAC audio file.</p>
<h2 id="video-encoding-examples"><a class="header" href="#video-encoding-examples">Video Encoding Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -c:v libx264 -b:v 2000k output.mp4
</code></pre>
<p>Encode video with H.264 at a bitrate of 2000 kbps.</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -c:v libx265 -b:v 3000k -preset medium output.mp4
</code></pre>
<p>Encode video with HEVC at a bitrate of 3000 kbps using the medium preset.</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -c:v libx264 -crf 23 output.mp4
</code></pre>
<p>Use Constant Rate Factor (CRF) encoding for H.264 (lower CRF values mean higher quality, typically 18-28).</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -c:v libx264 -pass 1 -an -f null NUL &amp;&amp; ffmpeg -i input.mp4 -c:v libx264 -pass 2 -c:a aac -b:a 128k output.mp4
</code></pre>
<p>Two-pass encoding for better quality (Windows). Replaces /dev/null with NUL. First pass analyzes the video, second pass encodes it.</p>
<h2 id="audio-encoding-examples"><a class="header" href="#audio-encoding-examples">Audio Encoding Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i input.mp3 -acodec aac -b:a 192k output.aac
</code></pre>
<p>Convert audio to AAC at a bitrate of 192 kbps.</p>
<pre><code class="language-powershell">ffmpeg -i input.wav -acodec libmp3lame -b:a 128k output.mp3
</code></pre>
<p>Convert audio to MP3 at a bitrate of 128 kbps.</p>
<pre><code class="language-powershell">ffmpeg -i input.flac -acodec copy output.flac
</code></pre>
<p>Copy the audio stream without re-encoding (lossless).</p>
<h2 id="resizing-and-scaling-examples"><a class="header" href="#resizing-and-scaling-examples">Resizing and Scaling Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -vf scale=640:480 output_640x480.mp4
</code></pre>
<p>Scale the video to 640x480 resolution.</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -vf scale=1280:-1 output_1280w.mp4
</code></pre>
<p>Scale the video to 1280 pixels wide, automatically calculating the height to maintain aspect ratio.</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -vf scale=-1:720 output_720h.mp4
</code></pre>
<p>Scale the video to 720 pixels high, automatically calculating the width to maintain aspect ratio.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "scale=iw*0.5:ih*0.5" "output_halfsize.mp4"
</code></pre>
<p>Reduce the video to half its original size.</p>
<p>Cropping Examples</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "crop=640:480:100:50" "output_cropped.mp4"
</code></pre>
<p>Crop the video to 640x480, starting at coordinates (100, 50).</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -vf "crop=in_w/2:in_h/2:(in_w-out_w)/2:(in_h-out_h)/2" output_center_cropped.mp4
</code></pre>
<p>Crop the center half of the video.</p>
<h2 id="padding-examples"><a class="header" href="#padding-examples">Padding Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "pad=1280:720:0:0:black" "output_padded.mp4"
</code></pre>
<p>Pad the video to 1280x720 with black bars.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "pad=1280:720:(ow-iw)/2:(oh-ih)/2:white" "output_centered_padded.mp4"
</code></pre>
<p>Center the video within a 1280x720 frame with white padding.</p>
<h2 id="rotation-and-flipping-examples"><a class="header" href="#rotation-and-flipping-examples">Rotation and Flipping Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "transpose=1" "output_rotated.mp4"
</code></pre>
<p>Rotate the video 90 degrees clockwise. transpose=2 is 90 degrees counterclockwise, transpose=3 is 180 degrees.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "hflip" "output_hflipped.mp4"
</code></pre>
<p>Flip the video horizontally.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "vflip" "output_vflipped.mp4"
</code></pre>
<p>Flip the video vertically.</p>
<h2 id="time-manipulation-examples"><a class="header" href="#time-manipulation-examples">Time Manipulation Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -ss 00:01:00 -to 00:02:00 -c copy "output_cut.mp4"
</code></pre>
<p>Cut a clip from 1 minute to 2 minutes (fast, using stream copy).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -ss 60 -t 30 -c copy "output_cut.mp4"
</code></pre>
<p>Cut a clip starting at 60 seconds with a duration of 30 seconds (fast, using stream copy).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -ss 00:00:30 "output_start_30s.mp4"
</code></pre>
<p>Start playback at 30 seconds (doesn't cut the video, just sets the starting point).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -itsoffset 5 -i "input.mp4" -map 1:a -map 0:v -c copy "output_delayed_audio.mp4"
</code></pre>
<p>Delay the audio by 5 seconds (adjust the offset value as needed).</p>
<h2 id="frame-rate-manipulation-examples"><a class="header" href="#frame-rate-manipulation-examples">Frame Rate Manipulation Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -r 24 "output_24fps.mp4"
</code></pre>
<p>Change the frame rate to 24 fps.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -filter:v "minterpolate=mi_mode=mci,framerate=60" "output_60fps.mp4"
</code></pre>
<p>Increase the frame rate to 60 fps using motion interpolation (can introduce artifacts).</p>
<h2 id="audio-manipulation-examples"><a class="header" href="#audio-manipulation-examples">Audio Manipulation Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -af "volume=0.5" "output_quieter.mp4"
</code></pre>
<p>Reduce the volume to 50%.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -af "volume=10dB" "output_louder.mp4"
</code></pre>
<p>Increase the volume by 10 dB.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -ac 2 "output_stereo.mp4"
</code></pre>
<p>Convert audio to stereo.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -ac 1 "output_mono.mp4"
</code></pre>
<p>Convert audio to mono.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -af "aresample=44100" "output_44100hz.mp4"
</code></pre>
<p>Change the sample rate to 44100 Hz.</p>
<h2 id="image-and-video-examples"><a class="header" href="#image-and-video-examples">Image and Video Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -s 1280x720 -c:a copy output.mp4
</code></pre>
<p>Change resolution of video</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -vn -ab 320k output.mp3
</code></pre>
<p>Removing video stream from a media file</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -r 1 -f image2 image-%2d.png
</code></pre>
<p>Extracting images from video<br />
<code>-r</code> - Set the frame rate. I.e. the number of frames to be extracted into images per second. The default value is 25.<br />
<code>-f</code> - Indicates the output format i.e, image format in our case.
image-%2d.png - Indicates how we want to name the extracted images. In this case, the names should start like image-01.png, image-02.png, image-03.png and so on. If you use %3d, then the name of images will start like image-001.png, image-002.png and so on.</p>
<hr />
<pre><code class="language-powershell">ffmpeg -i input.mp4 -filter:v "crop=w:h:x:y" output.mp4
</code></pre>
<p>Crop video<br />
<code>-filter:v</code> - Indicates the video filter.<br />
<code>crop</code> - Indicates crop filter.<br />
<code>w</code> - Width of the rectangle that we want to crop from the source video.<br />
<code>h</code> - Height of the rectangle.<br />
<code>x</code> - x coordinate of the rectangle that we want to crop from the source video.<br />
<code>y</code> - y coordinate of the rectangle.</p>
<p>Let us say you want to a video with a width of 640 pixels and a height of 480 pixels, from the position (200,150), the command would be:</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -filter:v "crop=640:480:200:150" output.mp4`
</code></pre>
<hr />
<pre><code class="language-powershell">ffmpeg -i input_file.mp4 -ss 00:01:30 -to 00:01:55 -c copy output.mp4
</code></pre>
<p>Clip sections of a video<br />
<code>-i input_file.mp4</code> - Specifies the input video file<br />
<code>-ss 00:01:30</code> - Sets the start time (1 minute and 30 seconds into the video)<br />
<code>-to 00:01:55</code> - Sets the end time of the video<br />
<code>-c copy</code> - Copies the streams without re-encoding (faster)<br />
<code>output.mp4</code> - Name of the output file</p>
<p>For a more accurate cut encoding can be used but will be slower.</p>
<pre><code class="language-powershell">ffmpeg -ss 00:01:30 -i input_file.mp4 -t 00:00:30 -c:v libx264 -c:a aac output.mp4
</code></pre>
<hr />
<h2 id="stitch-multiple-videos-together"><a class="header" href="#stitch-multiple-videos-together">Stitch multiple videos together</a></h2>
<p>First create a list of files.
<strong>cmd:</strong></p>
<pre><code class="language-cmd">(for %i in (*.mp4) do @echo file '%i') &gt; files.txt
</code></pre>
<p><strong>Powershell:</strong></p>
<pre><code class="language-Powershell">foreach ($i in Get-ChildItem .\*.mp4) {echo "file '$i'" &gt;&gt; files.txt}
</code></pre>
<p><strong>Bash:</strong></p>
<pre><code class="language-bash">for f in *.mp4; do echo "file '$f'" &gt;&gt; videos.txt; done
</code></pre>
<p>or</p>
<pre><code class="language-bash">printf "file '%s'\n" * &gt; files.txt
</code></pre>
<p>Once your text file is ready it should contain all the names of files you want to concatenate in this format:</p>
<pre><code class="language-powershell">file 'file2.mp4'
file 'file3.mp4'
file 'file1.mp4'
</code></pre>
<p>Now you can enter the following command to concatenate the files:</p>
<pre><code class="language-powershell">ffmpeg -f concat -safe 0 -i files.txt -c copy output.mp4
</code></pre>
<p>With transcoding:</p>
<pre><code class="language-powershell">ffmpeg -f concat -safe 0 -i input.txt -c:v libx264 -c:a aac output.mp4
</code></pre>
<p><code>-f concat</code> - Specifies the concat format<br />
<code>-safe 0</code> - Allows ffmpeg to read files in the current directory<br />
<code>-i input.txt</code> - Input file containing the list of videos<br />
<code>-c copy</code> - Copies the codecs without re-encoding (faster)<br />
<code>-c:v libx264</code> - uses the x264 (H.264) video encoder<br />
<code>-c:a aac</code> - uses the AAC audio encoder<br />
<code>output.mp4</code> - Name of the output file</p>
<p><strong>Method 2:</strong> Using the concat filter</p>
<pre><code class="language-powershell">ffmpeg -i input_file.mp4 -i input2.mp4 -i input3.mp4 -filter_complex "[0:v][0:a][1:v][1:a][2:v][2:a]concat=n=3:v=1:a=1[outv][outa]" -map "[outv]" -map "[outa]" output.mp4
</code></pre>
<p><code>-i input1.mp4 -i input2.mp4 -i input3.mp4</code> - Input video files<br />
<code>-filter_complex</code> - Applies complex filtering<br />
<code>concat=n=3:v=1:a=1</code> - Concatenates 3 inputs with 1 video and 1 audio stream each<br />
<code>[outv][outa]</code> - Labels for the output video and audio streams<br />
<code>-map "[outv]" -map "[outa]"</code> - Map the labeled streams to the output</p>
<hr />
<pre><code class="language-powershell">ffmpeg -i input.mp4 -aspect 16:9 output.mp4
</code></pre>
<p>Set aspect ratio. The commonly used aspect ratios are:</p>
<p>16:9<br />
4:3<br />
16:10<br />
5:4<br />
2:21:1<br />
2:35:1<br />
2:39:1</p>
<pre><code class="language-powershell">ffmpeg -i "input.jpg" -c:v libx264 -loop 0 -t 10 "output.mp4"
</code></pre>
<p>Create a 10-second video from a still image (loop the image).</p>
<pre><code class="language-powershell">ffmpeg -loop 1 -i "input.png" -c:v libx264 -t 5 -pix_fmt yuv420p "output.mp4"
</code></pre>
<p>Create a 5-second video from a still image (loop the image), specifying pixel format.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "thumbnail" -frames:v 1 "output.jpg"
</code></pre>
<p>Create a thumbnail image from a video.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "select=eq(n\,100)" -vframes 1 "output.png"
</code></pre>
<p>Extract a specific frame (frame 100) as an image.</p>
<pre><code class="language-powershell">ffmpeg -i input.mp4 -vn -ar 44100 -ac 2 -ab 320k -f mp3 output.mp3
</code></pre>
<p>Extract and convert audio from media file</p>
<p><code>-vn</code> - Indicates that we have disabled video recording in the output file.<br />
<code>-ar</code> - Set the audio frequency of the output file. The common values used are 22050, 44100, 48000 Hz.<br />
<code>-ac</code> - Set the number of audio channels.<br />
<code>-ab</code> - Indicates the audio bitrate.<br />
<code>-f</code> - Output file format. In our case, it's mp3 format.</p>
<h2 id="encode-gif-to-mp4-screentogif"><a class="header" href="#encode-gif-to-mp4-screentogif">Encode .gif to .mp4 (ScreenToGif)</a></h2>
<pre><code class="language-powershell">ffmpeg -i example.gif -movflags faststart -pix_fmt yuv420p -vf "crop=trunc(iw/2)*2:trunc(ih/2)*2" video.mp4
</code></pre>
<p><code>-movflags faststart</code> - This flag optimizes the video file for web playback by moving the moov atom (metadata for the video) to the beginning of the file. This allows the video to start playing before it is fully downloaded.</p>
<p><code>-pix_fmt yuv420p</code> - Sets the pixel format to yuv420p, which is widely supported by most video players and is optimal for web playback.</p>
<p><code>-vf</code> - This applies a video filter (-vf) to crop the input video.</p>
<p><code>"crop=trunc(iw/2)*2:trunc(ih/2)*2</code> - Ensures the width (iw) and height (ih) of the cropped video are both even numbers, which is often a requirement for video encoding.</p>
<p><code>trunc(iw/2)*2</code> - This calculates half of the input width, truncates the decimal, and multiplies it by 2 to get an even number.</p>
<p><code>trunc(ih/2)*2</code> - Similarly, this does the same for the input height.</p>
<h2 id="subtitle-examples"><a class="header" href="#subtitle-examples">Subtitle Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "subtitles=subtitles.srt" "output_with_subs.mp4"
</code></pre>
<p>Add subtitles from a .srt file to the video (burn-in subtitles).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -i "subtitles.srt" -c copy -map 0 -map 1 "output_with_subs.mkv"
</code></pre>
<p>Add subtitles as a separate stream in an MKV container (subtitles can be turned on/off).</p>
<h2 id="watermark-examples"><a class="header" href="#watermark-examples">Watermark Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -i "watermark.png" -filter_complex "overlay=10:10" "output_watermarked.mp4"
</code></pre>
<p>Add a watermark image to the video at position (10, 10).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -i "watermark.png" -filter_complex "overlay=(main_w-overlay_w-10):(main_h-overlay_h-10)" "output_bottom_right_watermarked.mp4"
</code></pre>
<p>Add a watermark to the bottom right corner.</p>
<h2 id="complex-filtergraph-examples"><a class="header" href="#complex-filtergraph-examples">Complex Filtergraph Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "split[main][tmp];[tmp]scale=640:480,deshake[shake];[main][shake]overlay=x=W-w-10:y=10" "output_deshaked_watermarked.mp4"
</code></pre>
<p>Deshake the video and add a watermark (requires the deshake filter, which may need to be enabled during compilation).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vf "chromakey=0x3CB371:0.1:0.1" "output_chromakeyed.mp4"
</code></pre>
<p>Apply chromakey (green screen) effect. Adjust the color and similarity/blend values as needed.</p>
<h2 id="streaming-examples-basic"><a class="header" href="#streaming-examples-basic">Streaming Examples (Basic)</a></h2>
<p><strong>Note:</strong> Streaming examples require a streaming server setup (e.g., using nginx with the RTMP module).</p>
<pre><code class="language-powershell">ffmpeg -re -i "input.mp4" -c copy -f flv "rtmp://your_streaming_server/live/stream_key"
</code></pre>
<p>Stream a video to an RTMP server (replace with your server address and stream key).</p>
<h2 id="miscellaneous-examples"><a class="header" href="#miscellaneous-examples">Miscellaneous Examples</a></h2>
<pre><code class="language-powershell">ffmpeg -i "concat:input1.ts|input2.ts|input3.ts" -c copy "output.ts"
</code></pre>
<p>Concatenate multiple Transport Stream (TS) files (alternative to the text file method). May not always work reliably.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -map 0:v -map 0:a -c copy "output.mkv"
</code></pre>
<p>Remux to MKV container (copy all video and audio streams).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -an "output_no_audio.mp4"
</code></pre>
<p>Remove audio from a video file.</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -vn "output_audio_only.mp4"
</code></pre>
<p>Remove video from a video file (leaving only audio).</p>
<pre><code class="language-powershell">ffmpeg -i "input.mp4" -f image2 "output\_%03d.png"
</code></pre>
<p>Extract each frame as a separate image (output001.png, output002.png, etc.).</p>
<pre><code class="language-powershell">ffmpeg -framerate 24 -i "image%03d.png" -c:v libx264 "output.mp4"
</code></pre>
<p>Create a video from a sequence of images (image001.png, image002.png, etc.) at 24 fps.</p>
<!-- {% embed scroll-to-top  %} -->
<div data-embedify data-app="scroll-to-top"  style="display:none"></div>
<style>.scroll-to-top { font-size: 2.5rem; width: 3.2rem; height: 3.2rem; display: none; align-items: center; justify-content: center; position: fixed; padding: 0.75rem; bottom: 4rem; right: calc(1.25rem + 90px + var(--page-padding)); z-index: 999; cursor: pointer; border: none; color: var(--bg); background: var(--fg); border-radius: 50%; } .scroll-to-top.hidden { display: none; } .scroll-to-top i { transform: translateY(-2px); } @media (min-width: 1080px) { .scroll-to-top { display: flex; } }</style><button type="button" aria-label="scroll-to-top" class="scroll-to-top hidden" onclick="scrollToTop()"> <i class="fa fa-angle-up"></i></button><script>const scrollToTop = () => window.scroll({ top: 0, behavior: "smooth" }); window.addEventListener("scroll", () => { const button = document.querySelector(".scroll-to-top"); button.classList.toggle("hidden", window.scrollY <200); });</script>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="cloud-architecture.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="google_search_operators.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="cloud-architecture.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="google_search_operators.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="ace.js"></script>
        <script src="editor.js"></script>
        <script src="mode-rust.js"></script>
        <script src="theme-dawn.js"></script>
        <script src="theme-tomorrow_night.js"></script>

        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/tabs.js"></script>
        <script src="mermaid.min.js"></script>
        <script src="mermaid-init.js"></script>
        <script src="enlarge-window.js"></script>


    </div>
    </body>
</html>
